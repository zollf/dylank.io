{{ define "content" }}
  <div class="space-between block">
    <h1>Users</h1>
    <a href="/admin/users/create" class="button is-success is-outlined">Create</a>
  </div>
  {{ partial "partials/alerts" . }}
  <div class="box">
    <table class="table is-hoverable is-fullwidth">
      <thead>
        <tr>
          <th>#</th>
          <th>Username</th>
          <th>Email</th>
          <th>Date Created</th>
          <th>Date Updated</th>
          <th>Action</th>
        </tr>
      </thead>
      <tbody>
        {{range $user := .Users}}
          <tr>
            <td>{{$user.Index}}</td>
            <td>{{$user.Username}}</td>
            <td>{{$user.Email}}</td>
            <td>{{$user.CreatedAt}}</td>
            <td>{{$user.UpdatedAt}}</td>
            <td class="flex-row">
              <div class="columns is-1 is-variable bd-klmn-columns">
                <div class="column align-center">
                  <a href="/admin/users/view/{{$user.ID}}" class="button is-info is-outlined">
                    <span class="icon">
                      <i class="fas fa-eye"></i>
                    </span>
                  </a>
                </div>
                <div class="column">
                  <form action="/api/users/delete" method="POST">
                    <input type="hidden" value="/admin/users" name="redirect" />
                    <input type="hidden" value="{{$user.ID}}" name="id" />
                    <button type="submit" class="button is-danger is-outlined">
                      <span class="icon">
                        <i class="fas fa-trash"></i>
                      </span>
                    </button>
                  </form>
                </div>
              </div>
            </td>
          </tr>
        {{end}}
      </tbody>
    </table>
  </div>
{{ end }}